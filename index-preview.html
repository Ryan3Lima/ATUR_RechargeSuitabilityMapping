<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
    <meta charset="utf-8">
    <meta name="generator" content="quarto-1.5.57">

    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

    <meta name="author" content="Ryan E. Lima">
    <meta name="author" content="Neha Gupta">

    <title>Opportunistic Recharge Enhacement - an analysis of state-wide suitability mapping in Arizona</title>
    <style>
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      div.columns{display: flex; gap: min(4vw, 1.5em);}
      div.column{flex: auto; overflow-x: auto;}
      div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
      ul.task-list{list-style: none;}
      ul.task-list li input[type="checkbox"] {
        width: 0.8em;
        margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
        vertical-align: middle;
      }
      /* CSS for citations */
      div.csl-bib-body { }
      div.csl-entry {
        clear: both;
      }
      .hanging-indent div.csl-entry {
        margin-left:2em;
        text-indent:-2em;
      }
      div.csl-left-margin {
        min-width:2em;
        float:left;
      }
      div.csl-right-inline {
        margin-left:2em;
        padding-left:1em;
      }
      div.csl-indent {
        margin-left: 2em;
      }    </style>

    <style>
      body.hypothesis-enabled #quarto-embed-header {
        padding-right: 36px;
      }

      #quarto-embed-header {
        height: 3em;
        width: 100%;
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-bottom: solid 1px;
      }

      #quarto-embed-header h6 {
        font-size: 1.1em;
        padding-top: 0.6em;
        margin-left: 1em;
        margin-right: 1em;
        font-weight: 400;
      }

      #quarto-embed-header a.quarto-back-link,
      #quarto-embed-header a.quarto-download-embed {
        font-size: 0.8em;
        margin-top: 1em;
        margin-bottom: 1em;
        margin-left: 1em;
        margin-right: 1em;
      }

      .quarto-back-container {
        padding-left: 0.5em;
        display: flex;
      }

      .headroom {
          will-change: transform;
          transition: transform 200ms linear;
      }

      .headroom--pinned {
          transform: translateY(0%);
      }

      .headroom--unpinned {
          transform: translateY(-100%);
      }      
    </style>

    <script>
    window.document.addEventListener("DOMContentLoaded", function () {

      var header = window.document.querySelector("#quarto-embed-header");
      const titleBannerEl = window.document.querySelector("body > #title-block-header");
      if (titleBannerEl) {
        titleBannerEl.style.paddingTop = header.clientHeight + "px";
      }
      const contentEl = window.document.getElementById('quarto-content');
      for (const child of contentEl.children) {
        child.style.paddingTop = header.clientHeight + "px";
        child.style.marginTop = "1em";
      }

      // Use the article root if the `back` call doesn't work. This isn't perfect
      // but should typically work
      window.quartoBackToArticle = () => {
        var currentUrl = window.location.href;
        window.history.back();
        setTimeout(() => {
            // if location was not changed in 100 ms, then there is no history back
            if(currentUrl === window.location.href){              
                // redirect to site root
                window.location.href = "index.html";
            }
        }, 100);
      }

      const headroom = new window.Headroom(header, {
        tolerance: 5,
        onPin: function () {
        },
        onUnpin: function () {
        },
      });
      headroom.init();
    });
    </script>

    
<script src="site_libs/manuscript-notebook/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
     
      <meta name="citation_title" content="Opportunistic Recharge Enhacement - an analysis of state-wide suitability mapping in Arizona">
<meta name="citation_author" content="Ryan E. Lima">
<meta name="citation_author" content="Neha Gupta">
<meta name="citation_language" content="en">
<meta name="citation_journal_title" content="Journal Name">
<meta name="citation_reference" content="citation_title=Potential groundwater recharge zones within New Zealand;,citation_abstract=Water resources in New Zealand are not evenly distributed across the country which makes it difﬁcult to adequately allocate the use of water resources in every basin. Groundwater is a fundamental water resource in New Zealand for agricultural, industrial and domestic use. Detailed knowledge regarding groundwater recharge potential is a pre-requisite for sustainable groundwater management, including the assessment of its vulnerability to contamination by pollutants. In this study, a comprehensive GIS approach was used to map the potential groundwater recharge zones across New Zealand. National data sets of lithology, slope, aspect, land use, soil drainage and drainage density were converted to raster data sets with a spatial resolution of 500 m Â 500 m and superimposed to derive groundwater potential zones. The resultant maps demonstrate that the potential is low in urban and mountainous areas, such as the Southern Alps, whereas the highest potential can be found in regions with large lakes and in the lower elevation plains areas, where Quaternary sediments prevail. The resulting maps can be used to identify areas of high nutrient leaching in zones where high groundwater recharge potential exists.;,citation_author=Shailesh Kumar Singh;,citation_author=Malte Zeddies;,citation_author=Ude Shankar;,citation_author=George A. Griffiths;,citation_publication_date=2019-05;,citation_cover_date=2019-05;,citation_year=2019;,citation_fulltext_html_url=https://linkinghub.elsevier.com/retrieve/pii/S1674987118301488;,citation_issue=3;,citation_doi=10.1016/j.gsf.2018.05.018;,citation_issn=16749871;,citation_volume=10;,citation_journal_title=Geoscience Frontiers;">
<meta name="citation_reference" content="citation_title=Impact of recent extreme Arizona storms;,citation_abstract=Heavy rainfall on 27–31 July 2006 led to record flooding and triggered an historically unprecedented number of debris flows in the Santa Catalina Mountains north of Tucson, Ariz. The U.S. Geological Survey (USGS) documented record floods along four watercourses in the Tucson basin, and at least 250 hillslope failures spawned damaging debris flows in an area where less than 10 small debris flows had been documented in the past 25 years. At least 18 debris flows destroyed infrastructure in the heavily used Sabino Canyon Recreation Area (http://wwwpaztcn.wr.usgs.gov/rsch_highlight/articles/20061 l.html). In four adjacent canyons, debris flows reached the heads of alluvial fans at the boundary of the Tucson metropolitan area. While landuse planners in southeastern Arizona evaluate the potential threat of this previously little recognized hazard to residents along the mountain front, an interdisciplinary group of scientists has collaborated to better understand this extreme event.;,citation_author=Christopher S. Magirl;,citation_author=Robert H. Webb;,citation_author=Peter G. Griffiths;,citation_author=Mike Schaffner;,citation_author=Craig Shoemaker;,citation_author=Eric Pytlak;,citation_author=Soni Yatheendradas;,citation_author=Steve W. Lyon;,citation_author=Peter A. Troch;,citation_author=Sharon L. E. Desilets;,citation_author=Dave C. Goodrich;,citation_author=Carl L. Unkrich;,citation_author=Ann Youberg;,citation_author=Phil A. Pearthree;,citation_publication_date=2007-04;,citation_cover_date=2007-04;,citation_year=2007;,citation_fulltext_html_url=https://agupubs.onlinelibrary.wiley.com/doi/10.1029/2007EO170003;,citation_issue=17;,citation_doi=10.1029/2007EO170003;,citation_issn=0096-3941, 2324-9250;,citation_volume=88;,citation_journal_title=Eos, Transactions American Geophysical Union;">
<meta name="citation_reference" content="citation_title=Uncovering the gaps in managed aquifer recharge for sustainable groundwater management: A focus on hillslopes and mountains;,citation_author=Menbru B. Meles;,citation_author=Scott A. Bradford;,citation_author=Alberto Casillas-Trasvina;,citation_author=Lin Chen;,citation_author=Gordon Osterman;,citation_author=Tyler Hatch;,citation_author=Hoori Ajami;,citation_author=Octavia Crompton;,citation_author=Lucia Levers;,citation_author=Isaya Kisekka;,citation_publication_date=2024;,citation_cover_date=2024;,citation_year=2024;,citation_fulltext_html_url=https://www.sciencedirect.com/science/article/pii/S0022169424010114?via%3Dihub;,citation_doi=10.1016/J.JHYDROL.2024.131615;,citation_issn=0022-1694;,citation_volume=639;,citation_journal_title=Journal of hydrology;">
<meta name="citation_reference" content="citation_title=Mountain‐Block Recharge: A Review of Current Understanding;,citation_abstract=Abstract Mountain‐block recharge (MBR) is the subsurface inflow of groundwater to lowland aquifers from adjacent mountains. MBR can be a major component of recharge but remains difficult to characterize and quantify due to limited hydrogeologic, climatic, and other data in the mountain block and at the mountain front. The number of MBR‐related studies has increased dramatically in the 15&nbsp;years since the last review of the topic was conducted by Wilson and Guan (2004), generating important advancements. We review this recent body of literature, summarize current understanding of factors controlling MBR, and provide recommendations for future research priorities. Prior to 2004, most MBR studies were performed in the southwestern United States. Since then, numerous studies have detected and quantified MBR in basins around the world, typically estimating MBR to be 5–50% of basin‐fill aquifer recharge. Theoretical studies using generic numerical modeling domains have revealed fundamental hydrogeologic and topographic controls on the amount of MBR and where it originates within the mountain block. Several mountain‐focused hydrogeologic studies have confirmed the widespread existence of mountain bedrock aquifers hosting considerable groundwater flow and, in some cases, identified the occurrence of interbasin flow leaving headwater catchments in the subsurface—both of which are required for MBR to occur. Future MBR research should focus on the collection of high‐priority data (e.g., subsurface data near the mountain front and within the mountain block) and the development of sophisticated coupled models calibrated to multiple data types to best constrain MBR and predict how it may change in response to climate warming. , Key PointsMountain‐block recharge confirmed as important source of recharge to basin aquifers in a variety of climatic and geologic settings globallyRecent work advanced understanding of fundamental controls on mountain‐block recharge and somewhat improved methods for characterizationFuture research should aim to acquire subsurface data in mountain block and at the mountain front;,citation_author=Katherine H. Markovich;,citation_author=Andrew H. Manning;,citation_author=Laura E. Condon;,citation_author=Jennifer C. McIntosh;,citation_publication_date=2019-11;,citation_cover_date=2019-11;,citation_year=2019;,citation_fulltext_html_url=https://agupubs.onlinelibrary.wiley.com/doi/10.1029/2019WR025676;,citation_issue=11;,citation_doi=10.1029/2019WR025676;,citation_issn=0043-1397, 1944-7973;,citation_volume=55;,citation_journal_title=Water Resources Research;">
<meta name="citation_reference" content="citation_title=Professional Paper;,citation_abstract=Ground-water recharge in the arid and semiarid southwestern United States results from the complex interplay of climate, geology, and vegetation across widely ranging spatial and temporal scales. Present-day recharge tends to be narrowly focused in time and space. Widespread water-table declines accompanied agricultural development during the twentieth century, demonstrating that sustainable ground-water supplies are not guaranteed when part of the extracted resource represents paleorecharge. Climatic controls on ground-water recharge range from seasonal cycles of summer monsoonal and winter frontal storms to multimillennial cycles of glacial and interglacial periods. Precipitation patterns reflect global-scale interactions among the oceans, atmosphere, and continents. Large-scale climatic influences associated with El Niño and Pacific Decadal Oscillations strongly but irregularly control weather in the study area, so that year-to-year variations in precipitation and ground-water recharge are large and difficult to predict. Proxy data indicate geologically recent periods of multidecadal droughts unlike any in the modern instrumental record. Anthropogenically induced climate change likely will reduce ground-water recharge through diminished snowpack at higher elevations, and perhaps through increased drought. Future changes in El Niño and monsoonal patterns, both crucial to precipitation in the study area, are highly uncertain in current models. Land-use modifications influence ground-water recharge directly through vegetation, irrigation, and impermeable area, and indirectly through climate change. High ranges bounding the study area—the San Bernadino Mountains and Sierra Nevada to the west, and the Wasatch and southern Colorado Rocky Mountains to the east—provide external geologic controls on groundwater recharge. Internal geologic controls stem from tectonic processes that led to numerous, variably connected alluvial-filled basins, exposure of extensive Paleozoic aquifers in mountainous recharge areas, and distinct modes of recharge in the Colorado Plateau and Basin and Range subregions.;,citation_publication_date=2007;,citation_cover_date=2007;,citation_year=2007;">
<meta name="citation_reference" content="citation_title=Mountain-block hydrology and mountain-front recharge;,citation_author=John L. Wilson;,citation_author=Huade Guan;,citation_editor=James F. Hogan;,citation_editor=Fred M. Phillips;,citation_editor=Bridget R. Scanlon;,citation_publication_date=2004;,citation_cover_date=2004;,citation_year=2004;,citation_fulltext_html_url=https://onlinelibrary.wiley.com/doi/10.1029/009WSA08;,citation_doi=10.1029/009WSA08;,citation_isbn=978-0-87590-358-3;,citation_volume=9;,citation_inbook_title=Water Science and Application;">
<meta name="citation_reference" content="citation_title=Lineaments in groundwater exploration: A review of applications and limitations;,citation_author=Per Sander;,citation_publication_date=2007-01;,citation_cover_date=2007-01;,citation_year=2007;,citation_fulltext_html_url=http://link.springer.com/10.1007/s10040-006-0138-9;,citation_issue=1;,citation_doi=10.1007/s10040-006-0138-9;,citation_issn=1431-2174, 1435-0157;,citation_volume=15;,citation_journal_title=Hydrogeology Journal;">
<meta name="citation_reference" content="citation_title=Open-Source Software Application for Hydrogeological Delineation of Potential Groundwater Recharge Zones in the Singida Semi-Arid, Fractured Aquifer, Central Tanzania;,citation_abstract=This study attempted to delineate and map potential groundwater recharge zones of the Singida, semi-arid, fractured crystalline basement aquifer using open source remote sensing and GIS software. Various thematic maps such as lithology/hydrogeology, soil, land-cover/use, slope, lineament density, drainage density and rainfall distribution were integrated in QGIS software. Vector input layers were rasterized and resampled using QGIS wrap projection function to make sure that the grid cells are of the same size. Reclassiﬁcation using SAGA and GRASS reclass algorithms in QGIS was carried out to realign the factor classes in a consistent scale, and reclassiﬁcation to a scale of 1 to 5 was carried out to harmonize the results. The study identiﬁed a number of potential areas for groundwater recharge, groundwater exploration, groundwater development and potential areas for artiﬁcial groundwater recharge. Potential groundwater recharge zones for the Singida semi-arid fractured aquifer are restricted to areas with high lineament density, cultivated areas, grassland and ﬂat to gentle slopes. The potential of groundwater recharge is also observed in areas with low drainage density. The delineated zones provide a good understanding of the potential recharge zones, which are a starting point for recharge zone protection. This blended approach can be utilized for carrying out suitability analysis using the weighted overlay analysis approach. Areas designated good and very good are recommended for artiﬁcial recharging structures as an alternative technique for enhancing groundwater recharge through rainwater harvesting. This will help to augment groundwater storage in this semi-arid environment.;,citation_author=Kassim Ramadhani Mussa;,citation_author=Ibrahimu Chikira Mjemah;,citation_author=Revocatus Lazaro Machunda;,citation_publication_date=2020-05;,citation_cover_date=2020-05;,citation_year=2020;,citation_fulltext_html_url=https://www.mdpi.com/2306-5338/7/2/28;,citation_issue=2;,citation_doi=10.3390/hydrology7020028;,citation_issn=2306-5338;,citation_volume=7;,citation_journal_title=Hydrology;">
<meta name="citation_reference" content="citation_title=Regional strategies for the accelerating global problem of groundwater depletion;,citation_author=Werner Aeschbach-Hertig;,citation_author=Tom Gleeson;,citation_publication_date=2012-12;,citation_cover_date=2012-12;,citation_year=2012;,citation_fulltext_html_url=https://www.nature.com/articles/ngeo1617;,citation_issue=12;,citation_doi=10.1038/ngeo1617;,citation_issn=1752-0894, 1752-0908;,citation_volume=5;,citation_journal_title=Nature Geoscience;">
<meta name="citation_reference" content="citation_title=Bedrock infiltration and mountain block recharge accounting using chloride mass balance;,citation_abstract=Mountain front catchment net groundwater recharge (NR) represents the upper end of mountain block recharge (MBR) groundwater ﬂow paths. Using environmental chloride in precipitation, streamﬂow and groundwater, we apply chloride mass balance (CMB) to estimate NR at multiple catchment scales within the 27 km2 Dry Creek Experimental Watershed (DCEW) on the Boise Front, southwestern Idaho. The estimate for average annual precipitation partitioning to NR is approximately 14% for DCEW. In contrast, as much as 44% of annual precipitation routes to NR in ephemeral headwater catchments. NR in headwater catchments is likely routed to downgradient springs, baseﬂow, and MBR, while downgradient streamﬂow losses contribute further to MBR. A key assumption in the CMB approach is that the change in stored chloride during the study period is zero. We found that this assumption is violated in some individual years, but that a 5-year integration period is sufﬁcient. Copyright  2011 John Wiley &amp;amp;amp; Sons, Ltd.;,citation_author=Pam Aishlin;,citation_author=James P McNamara;,citation_publication_date=2011-06;,citation_cover_date=2011-06;,citation_year=2011;,citation_fulltext_html_url=https://onlinelibrary.wiley.com/doi/10.1002/hyp.7950;,citation_issue=12;,citation_doi=10.1002/hyp.7950;,citation_issn=0885-6087, 1099-1085;,citation_volume=25;,citation_journal_title=Hydrological Processes;">
<meta name="citation_reference" content="citation_title=Assessment of Managed Aquifer Recharge Sites Using a New Geophysical Imaging Method;,citation_abstract=Core IdeasWe introduce a new geophysical imaging method to assess managed aquifer recharge sites.This method provides high‐resolution 3D imaging of the subsurface down to a minimum depth of 50 m.We introduce Resistivity Distribution Plot as a new approach to assign a saturated–unsaturated boundary.In many places around the world, much attention is focused on managed aquifer recharge (MAR) because of reduced groundwater levels due to droughts. To assess the suitability of a site for MAR, detailed three‐dimensional (3D) information about the subsurface materials and their hydraulic properties is needed. In areas where the groundwater level is at an intermediate depth (e.g., 20–40 m), such information is needed from the ground surface down to a minimum depth of ∼50 m. To achieve this goal, we used a new geophysical imaging system: a towed time‐domain electromagnetic system that is efficient for acquiring data at a significantly improved resolution and a scale needed for MAR. During a 2‐d period, we acquired ∼92 line‐kilometers of data in one almond [ Prunus dulcis (Mill.) D.A. Webb] grove, one pistachio ( Pistacia vera L.) grove, one open field, and two active recharge basins in the Tulare Irrigation District in the Central Valley of California. At each site, a detailed 3D resistivity model with a resolution down to the 10‐ by 10‐m scale is presented in terms of resistivity distribution plots, which are then used to assign a saturated–unsaturated boundary. In addition, we used a resistivity–lithology transform to interpret the resistivity models and create lithology maps at each site. We used this information to assess the suitability of each site for MAR.;,citation_author=Ahmad A. Behroozmand;,citation_author=Esben Auken;,citation_author=Rosemary Knight;,citation_publication_date=2019-01;,citation_cover_date=2019-01;,citation_year=2019;,citation_fulltext_html_url=https://acsess.onlinelibrary.wiley.com/doi/10.2136/vzj2018.10.0184;,citation_issue=1;,citation_doi=10.2136/vzj2018.10.0184;,citation_issn=1539-1663, 1539-1663;,citation_volume=18;,citation_journal_title=Vadose Zone Journal;">
<meta name="citation_reference" content="citation_title=Managing climate change impacts on the Western Mountain Aquifer: Implications for Mediterranean karst groundwater resources;,citation_abstract=Many studies highlight the decrease in precipitation due to climate change in the Mediterranean region, making it a prominent hotspot. This study examines the combined impacts of climate change and three groundwater demand scenarios on the water resources of the Western Mountain Aquifer (WMA) in Israel and the West Bank. While commonly used methods for quantifying groundwater recharge and water resources rely on regression models, it is important to acknowledge their limitations when assessing climate change impacts. Regression models and other data-driven approaches are effective within observed variability but may lack predictive power when extrapolated to conditions beyond historical fluctuations. A comprehensive assessment requires distributed process-based numerical models incorporating a broader range of relevant physical flow processes and, ideally, ensemble model projections. In this study, we simulate the dynamics of dual-domain infiltration and precipi­ tation partitioning using a HydroGeoSphere (HGS) model for variably saturated water flow coupled to a soilepikarst water balance model in the WMA. The model input includes downscaled high-resolution climate pro­ jections until 2070 based on the IPCC RCP4.5 scenario. The results reveal a 5% to 10% decrease in long-term average groundwater recharge compared to a 30% reduction in average precipitation. The heterogeneity of karstic flow and increased intensity of individual rainfall events contribute to this mitigated impact on groundwater recharge, underscoring the importance of spatiotemporally resolved climate models with daily precipitation data. However, despite the moderate decrease in recharge, the study highlights the increasing length and severity of consecutive drought years with low recharge values. It emphasizes the need to adjust current management practices to climate change, as freshwater demand is expected to rise during these periods. Additionally, the study examines the emergence of hydrogeological droughts and their propagation from the surface to the groundwater. The results suggest that the 48-month standardized precipitation index (SPI-48) is a suitable indicator for hydrogeological drought emergence due to reduced groundwater recharge.;,citation_author=Lysander Bresinsky;,citation_author=Jannes Kordilla;,citation_author=Temke Hector;,citation_author=Irina Engelhardt;,citation_author=Yakov Livshitz;,citation_author=Martin Sauter;,citation_publication_date=2023-08;,citation_cover_date=2023-08;,citation_year=2023;,citation_fulltext_html_url=https://linkinghub.elsevier.com/retrieve/pii/S2589915523000068;,citation_doi=10.1016/j.hydroa.2023.100153;,citation_issn=25899155;,citation_volume=20;,citation_journal_title=Journal of Hydrology X;">
<meta name="citation_reference" content="citation_title=Managed aquifer recharge implementation criteria to achieve water sustainability;,citation_abstract=Depletion of groundwater is accelerated due to an increase in water demand for applications in urbanized areas, agriculture sectors, and energy extraction, and dwindling surface water during changing climate. Managed aquifer recharge (MAR) is one of the several methods that can help achieve long-term water sustainability by increasing the natural recharge of groundwater reservoirs with water from non-traditional supplies such as excess surface water, stormwater, and treated wastewater. Despite the multiple beneﬁts of MAR, the wide-scale implementation of MAR is lacking, partly because of challenges to select the location for MAR implementation and identify the MAR type based on site conditions and needs. In this review, we provide an overview of MAR types with a basic framework to select and implement speciﬁc MAR at a site based on water availability and quality, land use, source type, soil, and aquifer properties. Our analysis of 1127 MAR projects shows that MAR has been predominantly implemented in sites with sandy clay loam soil (soil group C) and with access to river water for recharge. Spatial analysis reveals that many regions with depleting water storage have opportunities to implement MAR projects. Analyzing data from 34 studies where stormwater was used for recharge, we show that MAR can remove dissolved organic carbon, most metals, E. coli but not efﬁcient at removing most trace organics, and enterococci. Removal efﬁciency depends on the type of MAR. In the end, we highlight potential challenges for implementing MAR at a site and additional beneﬁts such as minimizing land subsidence, ﬂood risk, augmenting low dry-season ﬂow, and minimizing salt-water intrusion. These results could help identify locations in the water-stressed regions to implement speciﬁc MAR for water sustainability.;,citation_author=Sarfaraz Alam;,citation_author=Annesh Borthakur;,citation_author=Sujith Ravi;,citation_author=Mekonnen Gebremichael;,citation_author=Sanjay K. Mohanty;,citation_publication_date=2021-05;,citation_cover_date=2021-05;,citation_year=2021;,citation_fulltext_html_url=https://linkinghub.elsevier.com/retrieve/pii/S0048969721000589;,citation_doi=10.1016/j.scitotenv.2021.144992;,citation_issn=00489697;,citation_volume=768;,citation_journal_title=Science of The Total Environment;">
<meta name="citation_reference" content="citation_title=Groundwater recharge sources in semiarid irrigated mountain fronts;,citation_abstract=High-elevation mountains often constitute for basins important groundwater recharge sources through mountain-front recharge processes. These processes include streamflow losses and subsurface inflow from the mountain block. However, another key recharge process is from irrigation practices, where mountain streamflow is distributed across the irrigated piedmont. In this study, coupled groundwater fluctuation measurements and environmental tracers (18O, 2H, and major ions) were used to identify and compare the natural mountain-front recharge to the anthropogenically induced irrigation recharge. Within the High Atlas mountain front of the Ourika Basin, Central Morocco, the groundwater fluctuation mapping from the dry to wet season showed that recharge beneath the irrigated area was higher than the recharge along the streambed. Irrigation practices in the region divert more than 65% of the stream water, thereby reducing the potential for in-stream groundwater recharge. In addition, the irrigation areas close to the mountain front had greater water table increases (up to 3.5 m) compared with the downstream irrigation areas (&amp;amp;amp;lt;1 m increase). Upstream crops have priority to irrigation with stream water over downstream areas. The latter are only irrigated via stream water during large flood events and are otherwise supplemented by groundwater resources. These changes in water resources used for irrigation practices between upstream and downstream areas are reflected in the spatiotemporal evolution of the stable isotopes of groundwater. In the upstream irrigation area, the groundwater stable isotope values (δ18O: −8.4‰ to −7.4‰) reflect recharge by the diverted stream water. In the downstream irrigation area, the groundwater isotope values are lower (δ18O: −8.1‰ to −8.4‰) due to recharge via the flood water. In the nonirrigation area, the groundwater has the highest stable isotope values (δ18O: −6.8‰ to −4.8‰). This might be due to recharge via subsurface inflow from the mountain block to the mountain front and/or recharge via local low altitude rainfall. These findings highlight that irrigation practices can result in the dominant mountainfront recharge process for groundwater.;,citation_author=Houssne Bouimouass;,citation_author=Younes Fakir;,citation_author=Sarah Tweed;,citation_author=Marc Leblanc;,citation_publication_date=2020-03;,citation_cover_date=2020-03;,citation_year=2020;,citation_fulltext_html_url=https://onlinelibrary.wiley.com/doi/10.1002/hyp.13685;,citation_issue=7;,citation_doi=10.1002/hyp.13685;,citation_issn=0885-6087, 1099-1085;,citation_volume=34;,citation_journal_title=Hydrological Processes;">
<meta name="citation_reference" content="citation_title=Innovative methodology for estimating Mountain-Front Recharge in data-scarce regions: A case study in Mexico City;,citation_abstract=Despite the critical role mountainous regions play in the hydrological cycle, the scarcity of subsurface hydro­ geological data hampers accurate estimations of mountain-front recharge (MFR) and its components. This research proposes a cost-effective and replicable methodology for the preliminary estimation of MFR components in conditions of data scarcity. The proposed methodology, encompassing three phases, involves developing a hydrological conceptual model, creating a rainfall-runoff model, and estimating MFR values and their compo­ nents (surface mountain-front recharge and mountain-block recharge); it enhances understanding of hydrologic processes in mountain zones by interpreting relationships among precipitation, altitude, and geology, influencing variations in recharge and water table position. A key contribution is the methodology’s replicability in any mountainous area, even in the absence of detailed information, such as in protected natural areas. A case study is presented by estimating MFR in the Conservation Area of Mexico City (officially known as Suelo de Con­ servacio´n), composed by the mountain ranges of Sierra de las Cruces and Chichinautzin Volcanic Field. The results emphasize the distinct distribution of MFR components and water table position in the two mountain regions, suggesting a need for a tailored approach to water management in the basin. The proposed methodology is cost-effective to understand the water dynamics in data-scarce regions, contributing to mountain-front recharge management.;,citation_author=Juan Camilo Montaño-Caro;,citation_author=Oscar Escolero;,citation_author=Eric Morales-Casique;,citation_author=Raúl Silva-Aguilera;,citation_author=Sandra Blanco-Gaona;,citation_author=Jose Roberto Florez-Peñaloza;,citation_publication_date=2024-05;,citation_cover_date=2024-05;,citation_year=2024;,citation_fulltext_html_url=https://linkinghub.elsevier.com/retrieve/pii/S0895981124000579;,citation_doi=10.1016/j.jsames.2024.104835;,citation_issn=08959811;,citation_volume=137;,citation_journal_title=Journal of South American Earth Sciences;">
</head>

  <body class="quarto-notebook">
    <div id="quarto-embed-header" class="headroom fixed-top bg-primary">
      
      <a onclick="window.quartoBackToArticle(); return false;" class="btn btn-primary quarto-back-link" href=""><i class="bi bi-caret-left"></i> Back to Article</a>
      <h6><i class="bi bi-journal-code"></i> Article Notebook</h6>

            <a href="./index.ipynb" class="btn btn-primary quarto-download-embed" download="index.ipynb">Download Notebook</a>
          </div>

     <header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Opportunistic Recharge Enhacement - an analysis of state-wide suitability mapping in Arizona</h1>
          </div>

    
    <div class="quarto-title-meta-container">
      <div class="quarto-title-meta-column-start">
            <div class="quarto-title-meta-author">
          <div class="quarto-title-meta-heading">Authors</div>
          <div class="quarto-title-meta-heading">Affiliations</div>
          
                <div class="quarto-title-meta-contents">
            <p class="author">Ryan E. Lima <a href="mailto:ryan.lima@nau.edu" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> <a href="https://orcid.org/0000-0002-5352-7215" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a></p>
          </div>
                <div class="quarto-title-meta-contents">
                    <p class="affiliation">
                        Northern Arizona University
                      </p>
                  </div>
                      <div class="quarto-title-meta-contents">
            <p class="author">Neha Gupta <a href="mailto:nehagupta@arizona.edu" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> </p>
          </div>
                <div class="quarto-title-meta-contents">
                    <p class="affiliation">
                        University of Arizona
                      </p>
                  </div>
                    </div>
        
        <div class="quarto-title-meta">

                      
          
                
              </div>
      </div>
      <div class="quarto-title-meta-column-end quarto-other-formats-target">
      </div>
    </div>



    <div class="quarto-other-links-text-target">
    </div>  </div>
</header><div id="quarto-content" class="page-columns page-rows-contents page-layout-article toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#sec-intro" id="toc-sec-intro" class="nav-link active" data-scroll-target="#sec-intro"><span class="header-section-number">1</span> Introduction</a></li>
  <li><a href="#sec-conclusions" id="toc-sec-conclusions" class="nav-link" data-scroll-target="#sec-conclusions"><span class="header-section-number">2</span> Conclusion</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
</nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
</div>
<main class="content quarto-banner-title-block" id="quarto-document-content">      

       <div id="cell-1" class="cell markdown">
<section id="sec-intro" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="sec-intro"><span class="header-section-number">1</span> Introduction</h2>
</section>
</div>
<div id="cell-2" class="cell markdown">
<section id="sec-conclusions" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="sec-conclusions"><span class="header-section-number">2</span> Conclusion</h2>
</section>
</div>
<div id="cell-3" class="cell markdown">
<section id="references" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="references">References</h2>
<div id="refs" role="list">

</div>
</section>
</div>
     </main>
<!-- /main column -->  <script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>  </div> <!-- /content --> 
  
</body></html>